{"version":3,"sources":["/Users/akhilsingh/Desktop/Projects/wedding/src/main/webapp/app/admin/metrics/metrics.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { combineLatest } from 'rxjs';\n\nimport { MetricsService } from './metrics.service';\nimport { Metrics, Thread } from './metrics.model';\n\n@Component({\n  selector: 'jhi-metrics',\n  templateUrl: './metrics.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MetricsComponent implements OnInit {\n  metrics?: Metrics;\n  threads?: Thread[];\n  updatingMetrics = true;\n\n  constructor(private metricsService: MetricsService, private changeDetector: ChangeDetectorRef) {}\n\n  ngOnInit(): void {\n    this.refresh();\n  }\n\n  refresh(): void {\n    this.updatingMetrics = true;\n    combineLatest([this.metricsService.getMetrics(), this.metricsService.threadDump()]).subscribe(([metrics, threadDump]) => {\n      this.metrics = metrics;\n      this.threads = threadDump.threads;\n      this.updatingMetrics = false;\n      this.changeDetector.markForCheck();\n    });\n  }\n\n  metricsKeyExists(key: keyof Metrics): boolean {\n    return Boolean(this.metrics?.[key]);\n  }\n\n  metricsKeyExistsAndObjectNotEmpty(key: keyof Metrics): boolean {\n    return Boolean(this.metrics?.[key] && JSON.stringify(this.metrics[key]) !== '{}');\n  }\n}\n"]}