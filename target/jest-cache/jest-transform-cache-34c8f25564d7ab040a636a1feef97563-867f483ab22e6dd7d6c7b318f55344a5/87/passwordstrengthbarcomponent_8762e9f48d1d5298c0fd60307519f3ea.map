{"version":3,"sources":["/Users/akhilsingh/Desktop/Projects/wedding/src/main/webapp/app/account/password/password-strength-bar/password-strength-bar.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBI;;;;;;;;;;;;;;;;;;;;AAhBJ,MAAA,MAAA;AAAA;AAAA,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","sourcesContent":["import { Component, ElementRef, Input, Renderer2 } from '@angular/core';\n\n@Component({\n  selector: 'jhi-password-strength-bar',\n  templateUrl: './password-strength-bar.component.html',\n  styleUrls: ['./password-strength-bar.component.scss'],\n})\nexport class PasswordStrengthBarComponent {\n  colors = ['#F00', '#F90', '#FF0', '#9F0', '#0F0'];\n\n  constructor(private renderer: Renderer2, private elementRef: ElementRef) {}\n\n  measureStrength(p: string): number {\n    let force = 0;\n    const regex = /[$-/:-?{-~!\"^_`[\\]]/g; // \"\n    const lowerLetters = /[a-z]+/.test(p);\n    const upperLetters = /[A-Z]+/.test(p);\n    const numbers = /[0-9]+/.test(p);\n    const symbols = regex.test(p);\n\n    const flags = [lowerLetters, upperLetters, numbers, symbols];\n    const passedMatches = flags.filter((isMatchedFlag: boolean) => isMatchedFlag === true).length;\n\n    force += 2 * p.length + (p.length >= 10 ? 1 : 0);\n    force += passedMatches * 10;\n\n    // penalty (short password)\n    force = p.length <= 6 ? Math.min(force, 10) : force;\n\n    // penalty (poor variety of characters)\n    force = passedMatches === 1 ? Math.min(force, 10) : force;\n    force = passedMatches === 2 ? Math.min(force, 20) : force;\n    force = passedMatches === 3 ? Math.min(force, 40) : force;\n\n    return force;\n  }\n\n  getColor(s: number): { idx: number; color: string } {\n    let idx = 0;\n    if (s > 10) {\n      if (s <= 20) {\n        idx = 1;\n      } else if (s <= 30) {\n        idx = 2;\n      } else if (s <= 40) {\n        idx = 3;\n      } else {\n        idx = 4;\n      }\n    }\n    return { idx: idx + 1, color: this.colors[idx] };\n  }\n\n  @Input()\n  set passwordToCheck(password: string) {\n    if (password) {\n      const c = this.getColor(this.measureStrength(password));\n      const element = this.elementRef.nativeElement;\n      if (element.className) {\n        this.renderer.removeClass(element, element.className);\n      }\n      const lis = element.getElementsByTagName('li');\n      for (let i = 0; i < lis.length; i++) {\n        if (i < c.idx) {\n          this.renderer.setStyle(lis[i], 'backgroundColor', c.color);\n        } else {\n          this.renderer.setStyle(lis[i], 'backgroundColor', '#DDD');\n        }\n      }\n    }\n  }\n}\n"]}