{"version":3,"sources":["/Users/akhilsingh/Desktop/Projects/wedding/src/main/webapp/app/admin/configuration/configuration.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAA,MAAA;AAAA;AAAA,yBAAA,OAAA,CAAA,eAAA,CAAA,CAAA;AACA,MAAA,MAAA;AAAA;AAAA,yBAAA,OAAA,CAAA,sBAAA,CAAA,CAAA;AAEA,MAAA,WAAA;AAAA;AAAA,yBAAA,OAAA,CAAA,gBAAA,CAAA,CAAA;AAEA,MAAA,4BAAA;AAAA;AAAA,yBAAA,OAAA,CAAA,4CAAA,CAAA,CAAA;;;;IAIa,oBAAoB,GAAA,MAApB,oBAAoB,CAAA;AAC/B,EAAA,WAAA,CAAoB,IAApB,EAA8C,wBAA9C,EAAgG;AAAA;AAAA;AAAA;AAA5E,SAAA,IAAA,GAAA,IAAA;;AAA4E;AAAA;AAAlD,SAAA,wBAAA,GAAA,wBAAA;AAAsD;;AAEpG,EAAA,QAAQ,GAAA;AAAA;AAAA;AAAA;AACN,WAAO,KAAK,IAAL,CAAU,GAAV,CAA2B,KAAK,wBAAL,CAA8B,cAA9B,CAA6C,wBAA7C,CAA3B,EAAmG,IAAnG,CACL,WAAA,CAAA,GAAA,CAAI,CAAA,WAAW,KACb;AAAA;AAAA;AAAA;AAAA,aAAA,MAAM,CAAC,MAAP,CACE,MAAM,CAAC,MAAP,CAAc,WAAW,CAAC,QAA1B,EACG,GADH,CACO,CAAA,OAAO,KAAI;AAAA;AAAA;AAAA;AAAA,eAAA,OAAO,CAAC,KAAR;AAAa,OAD/B,EAEG,MAFH,CAEU,CAAC,QAAD,EAAkB,YAAlB,KAA0C;AAAA;AAAA;AAAA;AAAA,eAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAM,QAAN,CAAA,EAAmB,YAAnB;AAA+B,OAFnF,CADF;AAIC,KALH,CADK,CAAP;AASD;;AAED,EAAA,kBAAkB,GAAA;AAAA;AAAA;AAAA;AAChB,WAAO,KAAK,IAAL,CAAU,GAAV,CAAmB,KAAK,wBAAL,CAA8B,cAA9B,CAA6C,gBAA7C,CAAnB,EAAmF,IAAnF,CAAwF,WAAA,CAAA,GAAA,CAAI,CAAA,GAAG,KAAI;AAAA;AAAA;AAAA;AAAA,aAAA,GAAG,CAAC,eAAJ;AAAmB,KAA9B,CAAxF,CAAP;AACD;;AAjB8B,C;;;;;;;;;;UARxB,MAAA,CAAA;;UAIA,4BAAA,CAAA;;;;;;AAII,oBAAoB,GAAA,OAAA,CAAA,UAAA,CAAA,CADhC,MAAA,CAAA,UAAA,CAAW;AAAE,EAAA,UAAU,EAAE;AAAd,CAAX,CACgC,E,yCACL,MAAA,CAAA,U,EAA8C,4BAAA,CAAA,wB,EADzC,CAAA,EAApB,oBAAoB,CAApB;;;;AAAA,OAAA,CAAA,oBAAA,GAAA,oBAAA","sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { ApplicationConfigService } from 'app/core/config/application-config.service';\nimport { Bean, Beans, ConfigProps, Env, PropertySource } from './configuration.model';\n\n@Injectable({ providedIn: 'root' })\nexport class ConfigurationService {\n  constructor(private http: HttpClient, private applicationConfigService: ApplicationConfigService) {}\n\n  getBeans(): Observable<Bean[]> {\n    return this.http.get<ConfigProps>(this.applicationConfigService.getEndpointFor('management/configprops')).pipe(\n      map(configProps =>\n        Object.values(\n          Object.values(configProps.contexts)\n            .map(context => context.beans)\n            .reduce((allBeans: Beans, contextBeans: Beans) => ({ ...allBeans, ...contextBeans }))\n        )\n      )\n    );\n  }\n\n  getPropertySources(): Observable<PropertySource[]> {\n    return this.http.get<Env>(this.applicationConfigService.getEndpointFor('management/env')).pipe(map(env => env.propertySources));\n  }\n}\n"]}